'use strict';


var common         = require('./common');
var YAMLException  = require('./exception');
var Mark           = require('./mark');
var NIL            = common.NIL;
var SAFE_SCHEMA    = require('./schema/safe');
var DEFAULT_SCHEMA = require('./schema/default');


var _hasOwnProperty = Object.prototype.hasOwnProperty;


var KIND_STRING = 'string';
var KIND_ARRAY  = 'array';
var KIND_OBJECT = 'object';


var CONTEXT_FLOW_IN   = 1;
var CONTEXT_FLOW_OUT  = 2;
var CONTEXT_BLOCK_IN  = 3;
var CONTEXT_BL