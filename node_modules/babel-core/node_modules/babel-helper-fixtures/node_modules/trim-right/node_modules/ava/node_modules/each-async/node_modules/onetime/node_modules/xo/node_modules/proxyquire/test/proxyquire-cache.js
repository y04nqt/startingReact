/*jshint asi:true*/
/*global describe, before, beforeEach, it */

"use strict";

var assert = require('assert');

describe("Proxyquire", function() {
  describe('load()', function() {
    it('defaults to preserving the cache', function() {
      var original = require('./samples/foo');
      original.state = 'cached';

      var proxyquire = require('..');
      var proxyFoo = proxyquire('./samples/foo', { 'path': { } });

      var foo = require('./samples/foo');
      assert.equal('cached', foo.state);
  